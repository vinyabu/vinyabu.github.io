<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Linux 扩展磁盘空间</title>
    <link href="/2024/11/14/Linux-%E6%89%A9%E5%B1%95%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4/"/>
    <url>/2024/11/14/Linux-%E6%89%A9%E5%B1%95%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/xiykj/p/18088424#top">https://www.cnblogs.com/xiykj/p/18088424#top</a></p><ol><li><strong>使用lsblk查看新硬盘是否被系统识别</strong></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">lsblk</span><br>sdc      8:32   0    20G  0 disk<br></code></pre></td></tr></table></figure><ol start="2"><li><strong>对新添加的硬盘进行分区</strong></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">fdisk /dev/sdc</span><br></code></pre></td></tr></table></figure><p><img src="/img/2034475-20240321221519897-1589389643.png" alt="img"></p><ol start="3"><li><strong>检查分区</strong></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">lsblk</span><br>sdc      8:32   0    20G  0 disk <br>└─sdc1   8:33   0    20G  0 part <br></code></pre></td></tr></table></figure><ol start="4"><li>**对新分区进行格式化 ** mkfs.ext4 &#x2F;dev&#x2F;sdc1</li></ol><p>​查看之前根目录分区的格式 ext4</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-built_in">df</span> -Th</span><br>Filesystem     Type      Size  Used Avail Use% Mounted on<br>udev           devtmpfs  1.9G     0  1.9G   0% /dev<br>tmpfs          tmpfs     391M  1.6M  389M   1% /run<br>/dev/sda5      ext4       20G   19G     0 100% /<br></code></pre></td></tr></table></figure><p>​分区</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">mkfs.ext4 /dev/sdc1</span><br>mke2fs 1.45.5 (07-Jan-2020)<br>Creating filesystem with 5242624 4k blocks and 1310720 inodes<br>Filesystem UUID: 3a27f3e3-303f-4dfc-a4d9-d63e35248e88<br>Superblock backups stored on blocks: <br>32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, <br>4096000<br><br>Allocating group tables: done                            <br>Writing inode tables: done                            <br>Creating journal (32768 blocks): done<br>Writing superblocks and filesystem accounting information: done <br></code></pre></td></tr></table></figure><ol start="5"><li><strong>将硬盘分区初始化为物理卷</strong></li></ol><p>​安装lvm2</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">apt install lvm2<br></code></pre></td></tr></table></figure><p>​初始化</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">pvcreate /dev/sdc1</span><br>WARNING: ext4 signature detected on /dev/sdc1 at offset 1080. Wipe it? [y/n]: y<br>  Wiping ext4 signature on /dev/sdc1.<br>  Physical volume &quot;/dev/sdc1&quot; successfully created.<br></code></pre></td></tr></table></figure><p>​查看物理卷</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">pvdisplay</span><br>  &quot;/dev/sdc1&quot; is a new physical volume of &quot;&lt;20.00 GiB&quot;<br>  --- NEW Physical volume ---<br>  PV Name               /dev/sdc1<br>  VG Name               <br>  PV Size               &lt;20.00 GiB<br>  Allocatable           NO<br>  PE Size               0   <br>  Total PE              0<br>  Free PE               0<br>  Allocated PE          0<br>  PV UUID               Vk83nG-Bv8F-ifqk-pNd7-wMD3-h4Tj-U5ZJjZ<br></code></pre></td></tr></table></figure><ol start="6"><li><strong>将物理卷添加到根目录所在卷组</strong></li></ol><p>由于根目录不是物理卷，所以无法添加</p><ol start="7"><li><strong>挂载磁盘</strong></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-built_in">mkdir</span> /data</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">mount /dev/sdc1 /data</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">vim /etc/fstab</span><br>/dev/sdc1       /data           ext4    defaults        0       0<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2024/11/14/hello-world/"/>
    <url>/2024/11/14/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
